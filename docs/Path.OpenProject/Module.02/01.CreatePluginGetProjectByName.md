# Create Plugin: Get Project by Name

:arrow_backward: [Previous](./00.Module.md) Unit 1 of 14 [Next](./02.CreatePluginUpdateProjectByName.md) :arrow_forward:

Approximately 15 min · Unit · [Roei Sabag](https://www.linkedin.com/in/roei-sabag-247aa18/) · Level ★★★☆☆

## Create Get Project Plugin

Create a plugin to retrieve a project by its name and save the project ID under the `project_id` parameter.

1. Right-click on the `Plugins` folder.
2. Select `New File` from the context menu.
3. Name the file `GetProjectByName.rhino`.
4. Click on the file `GetProjectByName.rhino` to open it.

    ![Get Project by Name](./Images/m02u01_1.png)  
    _**Get Project by Name**_

5. Type in the following plugin.

```cmd
[test-id]         GetProjectByName
[test-scenario]   Gets a project by the project name using Open Project API and saves the ID under the project_id parameter

[test-actions]
/**
/** Get the projects list
1. Send a GET request to {http://openproject/api/v3/projects}
/**
/** Extract the project ID from the response and store it in a session parameter named 'project_id'
/** 1. Using JPath to extract the ID based on the project number.
/** 2. Using \d+ regular expression to take the ID number only.
2. Register the response parameter {project_id} with {$..elements.[?(@.name==='@argument')].id} filter {\d+}

[test-expected-results]
/**
/** Assert that the first request was successful and the project ID was saved.
[1] Verify that {status code} equals {200}
[2] Verify that {text} on {{$getparam --name:project_id --scope:session}} matches {\d+}

[test-examples]
| Example                            | Description                                                                                                  |
|------------------------------------|--------------------------------------------------------------------------------------------------------------|
| Get project by name {Demo Project} | Gets a project by the name `Demo Project` using Open Project API and saves the ID under the project_id parameter. |
```

## Register Plugins

Rhino can run the register plugins directly from Visual Studio Code by executing the register command.

1. Open the command palette by pressing `CTRL`+`SHIFT`+`P`.
2. Type `Rhino` to find Rhino Commands.
3. Select and run the command `Rhino: Register all the plugins under 'Plugins' folder`.
4. A progress indication will show in the Visual Studio Code status bar.

![Command Palette](./Images/m02u01_2.png)
_**Command Palette**_

When the registration invocation is complete, an indication saying `TM Language loaded` will be shown in the status bar.

## Breakdown

A plugin is identical in structure to a regular test case, with a few exceptions that must be attended.

### Gravity Parameters

When you create your plugin, you can consume parameters from the plugin user, based on the Gravity API contract. The parameters available are:

| Parameter          | Description                                                                                   |
|--------------------|-----------------------------------------------------------------------------------------------|
| @argument          | Takes the value from the `argument` field.                                                    |
| @onElement         | Takes the value from the `onElement` field (comes after `on|into|to|of|take`).                |
| @onAttribute       | Takes the value from the `onAttribute` field (comes after `from`).                            |
| @locator           | Takes the value from the `locatorType` field (comes after `by|using`).                        |
| @regularExpression | Takes the value from the `regularExpression` field (comes after `regex|pattern|filter`).      |

### Examples

Rhino API enforces you to provide at least one valid example of how to use the plugin you have created. This is designed to allow the plugin users to easily understand how to consume your plugin and put it to good use.

| Field       | Description                                                        |
|-------------|--------------------------------------------------------------------|
| Example     | A valid example of how to consume the plugin using Rhino Language. |
| Description | A description for the provided example.                            |

## Use the Plugin

1. Right-click on `TestCases` or `Tests` folder.
2. Select `New File`.
3. Name your file `Test011GetProjectByName.rhino`.
4. Click on `Test011GetProjectByName.rhino` file to open it.

    ![New File Context Item](./Images/m02u01_3.png)  
    _**New File Context Item**_

5. Type in the following test.

```cmd
[test-id]         TEST-011
[test-scenario]   Verify that Demo Project is retrieved when sending the GetProject API request
[test-categories] API
[test-priority]   1 - critical
[test-severity]   1 - critical
[test-tolerance]  0%

[test-actions]
1. Get project by name {Demo project}
2. Close the browser
```

Please notice that once registered, you can see your plugin under the intellisense.

![New File Context Item](./Images/m02u01_4.png)  
_**New File Context Item**_

## Run Your Test

Rhino can run the test file directly from Visual Studio Code by executing the invoke command.

1. Open the command palette by pressing `CTRL`+`SHIFT`+`P`.
2. Type `Rhino` to find Rhino Commands.
3. Select and run the command `Rhino: Runs the automation test(s) from the currently open document`.
4. A progress indication will show in Visual Studio Code status bar.

When the test invocation is complete, a report will be opened under a new Visual Studio Code tab. Please notice that the report shows the plugin breakdown.

![Rhino Report](./Images/m02u01_5.png)
_**Rhino Report**_

## Next Unit: "Create Plugin - Update Project by Name"

[Continue](./02.CreatePluginUpdateProjectByName.md) :arrow_forward:
